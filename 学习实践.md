

## 服务器配置需求
ubuntu 环境，是最方便的

## 安装redis
ubuntu 安装 redis；

```

$sudo apt-get install redis-server

```

安装后操作系统直接帮启动  redis 服务；都不需要自己过多操心；

```
$ ps -ef |grep redis
redis    15886     1  0 18:36 ?        00:00:00 /usr/bin/redis-server 127.0.0.1:6379
```

## 安装mysql
安装mysql 跟redis 也是类似的；非常方便

## 建表
建表文件在 源码根目录的 docs/sql 子目录下
```
$pwd
/home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example
$ls docs/sql/
docs/sql/blog.sql
```


## 编译

```
$pwd
/home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example

$make install

```

## 配置文件
配置文件在 源码根目录的 conf 子目录下；
根据需要修改mysql、redis 的配置

```
$pwd
/home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example

$ls conf/
app.ini


```

## 运行

```
$pwd
/home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example

$go-gin-example


[info] replacing callback `gorm:update_time_stamp` from /home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example/models/models.go:41
[info] replacing callback `gorm:update_time_stamp` from /home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example/models/models.go:42
[info] replacing callback `gorm:delete` from /home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example/models/models.go:43
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:   export GIN_MODE=release
 - using code:  gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /export/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] HEAD   /export/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] GET    /upload/images/*filepath  --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] HEAD   /upload/images/*filepath  --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] GET    /qrcode/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] HEAD   /qrcode/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (3 handlers)
[GIN-debug] GET    /auth                     --> github.com/EDDYCJY/go-gin-example/routers/api.GetAuth (3 handlers)
[GIN-debug] GET    /swagger/*any             --> github.com/swaggo/gin-swagger.WrapHandler.func1 (3 handlers)
[GIN-debug] POST   /upload                   --> github.com/EDDYCJY/go-gin-example/routers/api.UploadImage (3 handlers)
[GIN-debug] GET    /api/v1/tags              --> github.com/EDDYCJY/go-gin-example/routers/api/v1.GetTags (4 handlers)
[GIN-debug] POST   /api/v1/tags              --> github.com/EDDYCJY/go-gin-example/routers/api/v1.AddTag (4 handlers)
[GIN-debug] PUT    /api/v1/tags/:id          --> github.com/EDDYCJY/go-gin-example/routers/api/v1.EditTag (4 handlers)
[GIN-debug] DELETE /api/v1/tags/:id          --> github.com/EDDYCJY/go-gin-example/routers/api/v1.DeleteTag (4 handlers)
[GIN-debug] POST   /tags/export              --> github.com/EDDYCJY/go-gin-example/routers/api/v1.ExportTag (3 handlers)
[GIN-debug] POST   /tags/import              --> github.com/EDDYCJY/go-gin-example/routers/api/v1.ImportTag (3 handlers)
[GIN-debug] GET    /api/v1/articles          --> github.com/EDDYCJY/go-gin-example/routers/api/v1.GetArticles (4 handlers)
[GIN-debug] GET    /api/v1/articles/:id      --> github.com/EDDYCJY/go-gin-example/routers/api/v1.GetArticle (4 handlers)
[GIN-debug] POST   /api/v1/articles          --> github.com/EDDYCJY/go-gin-example/routers/api/v1.AddArticle (4 handlers)
[GIN-debug] PUT    /api/v1/articles/:id      --> github.com/EDDYCJY/go-gin-example/routers/api/v1.EditArticle (4 handlers)
[GIN-debug] DELETE /api/v1/articles/:id      --> github.com/EDDYCJY/go-gin-example/routers/api/v1.DeleteArticle (4 handlers)
[GIN-debug] POST   /api/v1/articles/poster/generate --> github.com/EDDYCJY/go-gin-example/routers/api/v1.GenerateArticlePoster (4 handlers)
[info] start http server listening :8000

```

## 浏览器访问

http://localhost:8000/

报错 404;说明http服务已经启动；


## swagger 文档

在 main.go 目录下 swag init 
```
$pwd
/home/zhoushx/sourceBuffer/github.com/zhoushx1018/go-gin-example

$swag init
2020/01/13 22:19:18 Generate swagger docs....
2020/01/13 22:19:18 Generate general API Info, search dir:./
2020/01/13 22:19:18 Generating app.Response
2020/01/13 22:19:18 create docs.go at  docs/docs.go
2020/01/13 22:19:18 create swagger.json at  docs/swagger.json
2020/01/13 22:19:18 create swagger.yaml at  docs/swagger.yaml
http://localhost:8000/swagger/index.html
```


浏览器访问  http://localhost:8000/swagger/index.html

这个时候就能访问到 swagger文档


### 